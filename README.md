# GeneticGame
This is a roguelike game generated by genetic algorithm. It has been developed based on genetic techniques as Genetic Programming for enemies AI and a Simple Genetic Algorithm, with Graphs as individuals, to generate infinite distinct dungeons each time the player loads a new level.

## Genetic Algorithms
As a brief introduction for those not related with genetic techniques, we would like to explain in a simple way what they are and how they work.

Genetic Algorithms (GA) are often used to find good solutions in a huge search space, with several valid solutions to your problem. To reach this goal, the GA generates a random population of individuals, where each one of them is a solution (good, bad, or whatever) for the problem. More variated this population is, more search space can be explored and better solutions can be found.

By mixing those individuals (Crossover) and changing them randomly (Mutation), imitating the natural process of evolution, we potentially found better and better solution if we let this population evolve enough.

But, how we now what is a good solution and what is not?

### The Fitness funtion
The core of Genetic Algorithms is the fitness function, which defines the adaptation of each individual to the environment, this is, how good is this solution for our problem.

### Example
A tipical example of GA application is the [TSP](https://en.wikipedia.org/wiki/Travelling_salesman_problem/). In this case, our solution (Chromosome) can be represented by an integer array, where each number is a city, and the order of this numbers in the array represents the path to be followed by the salesman. 

This solutions must satisfy some constraints. 
* The path have to be real, so, for the array 4-2-3-1, an edge must exists between 4 and 2, 2 and 3, 3 and 1, ...
* The path must contain all the numbers one and only one time

Constraints must be satisfied always by the Crossover and Mutation methods.

## Generating dungeons with Genetic Algorithms

Roguelike games are often placed in dungeons. A dungeon is a bunch of rooms interconnected. For this reason we choose a Graph as Chromosome. Graphs are easily cutted, combined and mutated.

A dungeon should be amusing, it should be complex enough for the player to motivate him to keep playing, but is important not generate too messy dungeons, since players can simply give up the game.

As any game, it has to have enemies and loot, so for our game, each room will have some enemies and some loot chest (both can be zero).

With this idea in mind, now we had to think about some way to evaluate a graph (a dungeon). The fitness function should be able to give high punctuation to those funny dungeons and low punctuation to boring ones.

Finally, to give some sense of path to the dungeon, we decide to have 3 *special rooms* which will be important for players:
- Start room: that room where player spawn.
- Final room: the room the player should reach.
- Key room: a room with a key, necessary to escape from the final room.

After several tries and hours of testing, we finally found which parameters had to considerate:
Positive aspects:
- **Distance between special rooms**: more distance implies more difficult dungeons.
- **Chest and enemies dispersation**: avoiding rooms with too much enemies and empty ones.
- **Rooms sizes**: we wanted rooms with enough space for player and enemies to move.
Negative aspects:
- **Number of Rooms**: less rooms can sound something bad for the game, but, in combination with distance between special rooms, both tend to generate dungeons with a acceptable number of rooms (about 20-25)
- **Interconections**: trying to reduce the number of connections that each room have with others helps to not generate so messy dungeons and helps players to make a mental map and ubicate themselves in the dungeon.

## Generating enemies AI with Genetic Programming

## The final game

## Related work
